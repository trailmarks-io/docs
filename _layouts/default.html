<!DOCTYPE html>
<html lang="{{ page.lang | default: site.default_lang | default: 'de' }}">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>{% if page.title %}{{ page.title | escape }} | {% endif %}{{ site.title | escape }}</title>
  <meta name="description" content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
  
  <link rel="stylesheet" href="{{ '/assets/css/tailwind.css' | relative_url }}">
  <link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">
  
  {% feed_meta %}
  {% seo %}
</head>
<body class="bg-gray-50 font-sans">
  <!-- Header -->
  <header class="bg-white shadow-sm border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <!-- Logo -->
        <div class="flex-shrink-0">
          <a href="{{ '/' | relative_url }}" class="text-xl font-bold text-gray-900">
            Trailmarks.io Documentation
          </a>
        </div>
        
        <!-- Language Switcher -->
        <div class="flex items-center space-x-4">
          {% if page.lang == 'en' %}
            <a href="{{ '/' | relative_url }}" class="main-nav-link">ðŸ‡©ðŸ‡ª Deutsch</a>
            <span class="main-nav-link active">ðŸ‡ºðŸ‡¸ English</span>
          {% else %}
            <span class="main-nav-link active">ðŸ‡©ðŸ‡ª Deutsch</span>
            <a href="{{ '/en/' | relative_url }}" class="main-nav-link">ðŸ‡ºðŸ‡¸ English</a>
          {% endif %}
        </div>
      </div>
    </div>
  </header>

  <div class="flex flex-col lg:flex-row min-h-screen">
    <!-- Mobile Menu Button -->
    <div class="lg:hidden bg-white border-b border-gray-200 p-4">
      <button id="mobile-menu-button" class="flex items-center px-3 py-2 border border-gray-300 rounded text-gray-600 hover:text-gray-900 hover:border-gray-400">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
        <span class="ml-2">Menu</span>
      </button>
    </div>

    <!-- Sidebar -->
    <aside id="sidebar" class="w-full lg:w-64 bg-white shadow-sm border-r border-gray-200 lg:flex-shrink-0 hidden lg:block">
      <nav class="p-4 space-y-2">
        {% include sidebar.html %}
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-4 lg:p-8">
      <div class="max-w-4xl mx-auto">
        <article class="prose prose-lg max-w-none">
          {{ content }}
        </article>
      </div>
    </main>
  </div>

  <!-- Mobile Menu Script -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const mobileMenuButton = document.getElementById('mobile-menu-button');
      const sidebar = document.getElementById('sidebar');
      
      if (mobileMenuButton && sidebar) {
        mobileMenuButton.addEventListener('click', function() {
          sidebar.classList.toggle('hidden');
        });
      }
    });
  </script>

  <!-- Footer -->
  <footer class="bg-white border-t border-gray-200 mt-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div class="text-center text-gray-500 text-sm">
        <p>Â© 2025 Trailmarks.io Documentation</p>
        <p class="mt-2">Technical and User Documentation for Trailmarks.io Application</p>
      </div>
    </div>
  </footer>
</body>
</html>